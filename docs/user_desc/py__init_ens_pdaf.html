<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>py__init_ens_pdaf &#8212; pyPDAF  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=8203d6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="py__init_n_domains_p_pdaf" href="py__init_n_domains_p_pdaf.html" />
    <link rel="prev" title="py__init_dim_obs_pdaf" href="py__init_dim_obs_pdaf.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="py-init-ens-pdaf">
<h1>py__init_ens_pdaf<a class="headerlink" href="#py-init-ens-pdaf" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="py__init_ens_pdaf">
<span class="sig-name descname"><span class="pre">py__init_ens_pdaf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filtertype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_ens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">np.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uinv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">np.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ens_p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">np.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">np.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">np.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">np.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#py__init_ens_pdaf" title="Link to this definition">¶</a></dt>
<dd><p>Fill the ensemble array that is provided by PDAF with an initial ensemble of model states.</p>
<p>This function is called by <code class="xref py py-func docutils literal notranslate"><span class="pre">pyPDAF.PDAF.init()</span></code>. The initialised
ensemble array will be distributed to model by <code class="xref py py-func docutils literal notranslate"><span class="pre">pyPDAF.PDAF.init_forecast()</span></code>.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>filtertype<span class="classifier">int</span></dt><dd><p>filter type given in PDAF_init</p>
</dd>
<dt>dim_p<span class="classifier">int</span></dt><dd><p>PE-local state dimension given by PDAF_init</p>
</dd>
<dt>dim_ens<span class="classifier">int</span></dt><dd><p>number of ensemble members</p>
</dd>
<dt>state_p<span class="classifier">ndarray[np.float64, ndim=1]</span></dt><dd><p>PE-local model state
This array must be filled with the initial
state of the model for SEEK, but it is not
used for ensemble-based filters.
One can still make use of this array within
this function.
Array shape: (dim_p)</p>
</dd>
<dt>uinv<span class="classifier">ndarray[np.float64, ndim=2]</span></dt><dd><p>This array is the inverse of matrix
formed by right singular vectors of error
covariance matrix of ensemble perturbations.
This array has to be filled in SEEK, but it is
not used for ensemble-based filters.
Nevertheless, one can still make use of this
array within this function e.g.,
for generating an initial ensemble perturbation
from a given covariance matrix.
Dimension of this array is determined by the
filter type.
* (dim_ens, dim_ens) for (L)ETKF, (L)NETF, (L)KNETF, and SEEK
* (dim_ens - 1, dim_ens - 1) for (L)SEIK, (L)ESTKF, and 3DVar using ensemble
* (1, 1) for (L)EnKF, particle filters and gen_obs
Array shape: (dim_ens - 1, dim_ens-1)</p>
</dd>
<dt>ens_p<span class="classifier">ndarray[np.float64, ndim=2]</span></dt><dd><p>PE-local ensemble
Array shape: (dim_p, dim_ens)</p>
</dd>
<dt>flag<span class="classifier">int</span></dt><dd><p>pdaf status flag</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>state_p<span class="classifier">ndarray[np.float64, ndim=1]</span></dt><dd><p>PE-local model state
This array must be filled with the initial
state of the model for SEEK, but it is not
used for ensemble-based filters.
One can still make use of this array within
this function.
Array shape: (dim_p)</p>
</dd>
<dt>uinv<span class="classifier">ndarray[np.float64, ndim=2]</span></dt><dd><p>This array is the inverse of matrix
formed by right singular vectors of error
covariance matrix of ensemble perturbations.
This array has to be filled in SEEK, but it is
not used for ensemble-based filters.
Nevertheless, one can still make use of this
array within this function e.g.,
for generating an initial ensemble perturbation
from a given covariance matrix.
Dimension of this array is determined by the
filter type.
* (dim_ens, dim_ens) for (L)ETKF, (L)NETF, (L)KNETF, and SEEK
* (dim_ens - 1, dim_ens - 1) for (L)SEIK, (L)ESTKF, and 3DVar using ensemble
* (1, 1) for (L)EnKF, particle filters and gen_obs
Array shape: (dim_ens - 1, dim_ens-1)</p>
</dd>
<dt>ens_p<span class="classifier">ndarray[np.float64, ndim=2]</span></dt><dd><p>PE-local ensemble
Array shape: (dim_p, dim_ens)</p>
</dd>
<dt>flag<span class="classifier">int</span></dt><dd><p>pdaf status flag</p>
</dd>
</dl>
</section>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pyPDAF</a></h1>



<p class="blurb">A Python interface to Parallel Data Assimilation Framework.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=yumengch&repo=pyPDAF&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../naming_convention.html">Variable naming conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parallel.html">Parallelisation Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_functions.html">User-supplied functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="py__add_obs_err_pdaf.html">py__add_obs_err_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__collect_state_pdaf.html">py__collect_state_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__cvt_adj_ens_pdaf.html">py__cvt_adj_ens_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__cvt_adj_pdaf.html">py__cvt_adj_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__cvt_ens_pdaf.html">py__cvt_ens_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__cvt_pdaf.html">py__cvt_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__distribute_state_pdaf.html">py__distribute_state_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__g2l_obs_pdaf.html">py__g2l_obs_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__g2l_state_pdaf.html">py__g2l_state_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__get_obs_f_pdaf.html">py__get_obs_f_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_dim_l_pdaf.html">py__init_dim_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_dim_obs_f_pdaf.html">py__init_dim_obs_f_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_dim_obs_l_pdaf.html">py__init_dim_obs_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_dim_obs_pdaf.html">py__init_dim_obs_pdaf</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">py__init_ens_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_n_domains_p_pdaf.html">py__init_n_domains_p_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obs_covar_pdaf.html">py__init_obs_covar_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obs_f_pdaf.html">py__init_obs_f_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obs_l_pdaf.html">py__init_obs_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obs_pdaf.html">py__init_obs_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obserr_f_pdaf.html">py__init_obserr_f_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obsvar_l_pdaf.html">py__init_obsvar_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obsvar_pdaf.html">py__init_obsvar_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__init_obsvars_pdaf.html">py__init_obsvars_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__l2g_state_pdaf.html">py__l2g_state_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__likelihood_hyb_l_pdaf.html">py__likelihood_hyb_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__likelihood_l_pdaf.html">py__likelihood_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__likelihood_pdaf.html">py__likelihood_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__localize_covar_pdaf.html">py__localize_covar_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__localize_covar_serial_pdaf.html">py__localize_covar_serial_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__next_observation_pdaf.html">py__next_observation_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__obs_op_adj_pdaf.html">py__obs_op_adj_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__obs_op_f_pdaf.html">py__obs_op_f_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__obs_op_lin_pdaf.html">py__obs_op_lin_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__obs_op_pdaf.html">py__obs_op_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__prepoststep_pdaf.html">py__prepoststep_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__prodrinva_hyb_l_pdaf.html">py__prodrinva_hyb_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__prodrinva_l_pdaf.html">py__prodrinva_l_pdaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="py__prodrinva_pdaf.html">py__prodrinva_pdaf</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hidden_functions.html">Legacy and internal PDAF functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../links.html">Other useful links</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../user_functions.html">User-supplied functions</a><ul>
      <li>Previous: <a href="py__init_dim_obs_pdaf.html" title="previous chapter">py__init_dim_obs_pdaf</a></li>
      <li>Next: <a href="py__init_n_domains_p_pdaf.html" title="next chapter">py__init_n_domains_p_pdaf</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025 University of Reading and National Centre for Earth Observation.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/user_desc/py__init_ens_pdaf.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>